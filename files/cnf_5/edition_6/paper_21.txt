Automatic Identifying Weave Patterns for Double-layer Weft Woven Fabric
Haihong Wu, Mingmin Zhang, Zhigeng Pan, Haiming Yin
State Key Laboratory of CAD & CG, Zhejiang University, Hangzhou 310027, P.R.China
hhwu, zmm, zgpan, hawk@cad.zju.edu.cn

Abstract
Automatic identifying weave pattern is an
important research area for computer aided design of
textile products. Based on the scanned surface images,
we have developed a semi-automatic identification
system of weave patterns for double-layer weft woven
necktie fabric. With manual partitioning, the
complicated necktie fabric pattern is regarded as
combination of several single-layer weave patterns.
Image processing techniques are employed to segment
the fabric color image, such as color clustering,
morphological operation, etc. A novel algorithm to
correct warp displacements is proposed to perform
yarns segmentation more precisely. Finally, the
integrated method to identify the double-layer woven
fabric, which combines automatic identifying singlelayer weave with human-computer interaction, is
illustrated. The experimental results show the
practicability and efficiency of our system.

1. Introduction
Analyzing and identifying fabric weave patterns
play an important role in textile design, which includes
identification of the structural properties such as fabric
density, yarn number and weave pattern. Now the
analysis of fabric weave patterns still relies on human
inspection using magnifiers, rules etc., and it is very
tedious and time-consuming work. Therefore, it has
be-come necessary to develop an automatic analysis
system to identify the fabric characteristics.
Image processing techniques have been shown
useful for identifying fabric weave patterns. Almost all
the analysis methods are used to process the surface
image of textile fabric. The main methods so far are
based on Fourier transform techniques [1, 2]. In the
power spectrum image derived from the Fourier
transform of fabric image, peaks stand for frequency
terms of periodic elements from which basic weave

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV‚Äô05)
0-7695-2392-7/05 $20.00 ¬© 2005 IEEE

patterns can be recognized. Another identification
method is using warp and weft floats to determine
weave patterns [3, 4]. Warp and weft cross points are
located by autocorrelation analysis in both horizontal
and vertical directions, and then the cross states are
determined by analysis the aspect ratio of an ellipseshaped image at these points. In recent years, some
clustering methods have also been adopted to classify
either the cross states or weave patterns, such as
artificial neural network [5], and fuzzy C-means
algorithm [6]. However, these studies only aimed at
identifying single-layer weave fabrics by means of
gray images. A 3D method to analyze multi-layer
fabric structure with the cross-sectional images, which
are captured by CT scanner, was reported [7, 8]. The
textile structure is reconstructed three-dimensionally
from positional information by tracing each yarn. But
it needs expensive devices and complex computation.
The colors and patterns of necktie fabrics are much
more complex than typical single-layer fabrics, whose
major patterns are double-layer weaves with two wefts.
Almost all above methods are unfit to identify this kind
of patterns automatically. In this paper, we introduce
an integrated method for analyzing these double-layer
weft woven fabrics, which regards the complicated
fabric patterns as a combination of several single-layer
weaves. Since the color image provides more
information of yarn arrangements than gray one, we
adopt a series of color image pre-processing
techniques to segment the weft and warp yarns,
including color quantization and morphology operation.
Inspecting the actual fabric image, the arrangements
of warps are usually found to be shifted due to long
warp floats. Thus we synthesize the location
information of warp floats on all wefts and correct the
displacements. With well-arranged yarns, we can
conveniently obtain the yarns spacing, yarns density
and weave pattern. Our method is shown useful for
almost all single-layer weave fabrics with high
precision except complicated weaves, such as
honeycomb weave, crepe weave and so on. Finally, the
scheme of combining automatic identification with

human-computer interaction is presented, and
experimental results demonstrate its efficiency.
This paper is organized as follows. In Section 2, we
adopt color quantization algorithm and morphology
operation to pre-process fabric images and the
algorithm to segment the weft and warp yarns is
proposed subsequently for automatically identifying
single-layer weaves with improved precision. In
Section 3, we introduce our integrated scheme on
identifying double-layer fabric weave patterns semiautomatically. The experimental study and results
analysis are presented in Section 4, and the
conclusions are given in the last section.

2. Single-layer weave identification
2.1. Image pre-processing
We capture the surface image of fabric by a highresolution scanner, which will be processed by several
color image processing techniques, such as Gaussian
filtering, color quantification, morphological operation,
etc. Gaussian filtering is effective to reduce noise
caused by non-uniform luminance and fabric napping.
We adopted a 5√ó5 mask to filter the scanned color
image. Traditional gray-level method converted the
filtered image to binary image of black and white by
selecting a certain gray level threshold. Obviously, it is
difficult to distinguish two yarns which have similar
gray level but different chromaticity. So it is necessary
to recognize yarns using chromatic information. With
non-ideal luminance, the scanned image usually
appears some highlight and shadow, and the brightness
on yarns could be quite diverse. For this purpose, we
regard the yarns with different color levels as well as
solid ones, and perform color quantification to segment
warp and weft yarns.
Euclidean distance D E has long been used to
compute distance in color space. For the RGB model,
it is defined as:
DE
v1  v2 [( r1  r2 ) 2  ( g1  g 2 ) 2  (b1  b2 ) 2 ]1 / 2 , (1)
where v is the RGB vector. However, the Euclidean
distance in RGB space does not really reflect the visual
separation between two colors. Generally, it is
sensitive to variations in intensity, but not very
sensitive to variations in hue and saturation [9]. In
order to separate the colors that vary in hue and
saturation, the vector angle is defined as an alternate
distance:
v1T v 2
cos T
(2)
v1 v 2

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV‚Äô05)
0-7695-2392-7/05 $20.00 ¬© 2005 IEEE

Rather than Euclidean distance, vector angle is
insensitive to intensity differences, instead of hue and
saturation differences. Unfortunately, when the color is
close to black, few noise can influence the vector angle
value greatly. Therefore, the vector angle is benefit for
the two pixels with high intensity, while the Euclidean
distance is suitable for at least one pixel with low
intensity [10]. By experiments, the threshold of
intensity is chosen to 30.
Common morphological operation is used to improve the results of color quantization. By successive
operations of erosion and dilation, the obstinate noise
can be removed and the yarn overlap caused by too
long float can be reduced. After pre-processing, the
fabric image is converted to a binary image with the
warp color and weft color, in which all highlight and
shadow have been removed.

2.2. Weft segmentation
When the light is on the top of the fabric, the
centers of yarns have highest intensity while the
interstices between yarns display darkness. Traditional
methods recognize the arrangements of yarns by
accumulating the gray-level values along the same
vertical and horizontal pixel lines over the fabric image,
and locate the yarns by the peaks in the projection
profile [11]. However in practice, the warp and weft
yarns are not distributed so well regularly. In this paper,
we present different algorithms for the weft and warp
yarns segmentation respectively according to their own
characters.
As we know, the weft yarns are arranged better than
warp ones. The accumulated intensity along the weft
direction appears more periodic than along the warp
direction. To improve its statistical characteristic, we
calculate the projection profile on the gradient values
along the weft direction instead of the gray-level
values. The function of accumulated gradient values is
shown as follow:
L( y )

1
N

N 1

¬¶ g ( x, y )

(3)

x 0

Here, g ( x, y ) is the vertical gradient value of pixel
(i, j ) , N is the number of pixels in weft direction.
Figure 1 illustrates the comparison between the
projection profiles calculated from gray-level values
and gradient values. In the case of gradually increased
weft floats such as Figure 1a, the local minimums of
the profile calculated from gray-level values are
insufficient to indicate all the weft interstices.
However, the projection profile for gradients can
present better features of fluctuation than the one for

grey-levels. As Figure 1c shows, the peaks of profile
represent the locations of weft interstices without lost.

b) projection profile for gray-level

sequence numbers of weft yarns. Accumulating the
color values along the warp direction in each weft unit
image, we obtain its initial warp position array, in
which 1 denotes warp float and 0 denotes weft float.
Autocorrelation analysis is used to determine
structural repeat units in the fabric weave, which can
be obtained by the autocorrelation functions defined as
follow:
C 0, y

a) sample image

c) projection profile for gradient

Figure 1 Comparison between projection
profiles for gray-level and gradient

2.3. Warp segmentation
In general, the arrangement of warp yarns is more
compact than the one of weft yarns, and the periodicity
of warp is not as good as the one of weft. Furthermore,
two warp floats with same phase are easy to shift due
to the different location of their weave repeats. Thus it
is usually difficult to obtain the warp location correctly
only by the projection profile calculated from either
gray-level values or gradient values along the warp
direction. In this paper, we adopt the definition of weft
unit in [11], which is referred as an image fraction
formed by a weft yarn. The two weft units located at
the same position of the weave repeat are named samephase weft unit.
In the non-plain woven fabric, yarn displacement is
quite familiar caused by long warp floats. The warp
location is affected by its phase in the weave repeat to
great extent. It is obviously inadequate to obtain the
warp locations just from the information of one weft
unit. Since increasing the amount of samples can
effectively decrease errors, the homogeneous weft
units with the similar luminance were collected and
synthesized [12]. However, in the practice, even the
same-phase
synthesis
could
not
eliminate
displacements well. Therefore, we propose a different
warp segment algorithm, which not only synthesizes
the same-phase weft unit in both weft and warp
directions but also synthesizes all weft segments in the
weave repeat. By this algorithm, the edges of warp
floats on the same warp yarn are adjusted to be in strict
vertical alignment.
2.3.1. Synthesis weft units in the weave repeat.
We present the warp position array Pi for each weft
unit to indicate the distribution of warp floats on the
weft unit. The values i 1, , M correspond to the

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV‚Äô05)
0-7695-2392-7/05 $20.00 ¬© 2005 IEEE

C x ,0

M

N

i

j

M

N

i

j

¬¶¬¶ P ( j)P ( j  y) ,
i

i

¬¶¬¶ P ( j) P
i

i x (

j) .

(4)

Here, C 0, y denotes the function of the warp yarns, and
C x ,0 denotes the function of weft yarns. Pi ( j ) is the
jth position value of the ith weft unit. M is the
amount of weft units and N is the amount of pixels in
weft direction. We can indicate the period of weave by
the first peak in the autocorrelation function curve. In
the weave repeat, all the same-phase weft units can be
synthesized to minimize the warp displacements.
Typical warp displacements can be listed as
following cases: overlapped and side-by-side. The first
one is attributed to displacement of the same warp yarn,
and the last one is attributed to displacements of the
adjacent warp yarns. As shown in Figure 2, w denotes

a) overlapped yarns

b) side-by-side yarns.

Figure 2 Two cases of yarns displacement

the yarn width and 'x denotes the yarn displacement.
If 'x1 , 'x 2  w / 2 , we consider that yarns in Figure 2a
are overlapped while yarns in Figure 2b are side-byside. To obtain the uniform edges of yarns, we adjust
the displacement as Equations (5):
¬≠¬∞ x c x  'x / 2
1
1
,
(5)
¬Æ 1c
¬∞¬Ø x 2
x 2  'x 2 / 2
where x and x c are the locations of yarn edges before
and after adjusting respectively. In our approach, the
displacement adjusting can be performed by the logical
operations of Pi . The ExclusiveOR operation is used
to estimate the overlapped case, and the AND
operation is used to estimate the side-by-side case.

Given the position arrays of ith and jth weft units
Pi (n) and P j (n) , n 1,  , N , and N is the amount
of pixels in the weft direction. If Equation (6) is
satisfied, we affirm that ith and jth weft units are
homogeneous.
N

2 u ¬¶ ( Pi (n) u Pj (n))
n 0

N

N

¬¶ P (n)  ¬¶ P (n)
i

!

1
2

j

(6)
Taking into consideration the character of fabric
weave, we adjust the overlapped and side-by-side warp
floats on the homogeneous weft units. The algorithm
of synthesizing weft units in weave repeat is
formulated as follows:
1) Create the warp position arrays P1 ,  PM for each
weft unit in weave repeat R . M is the amount of weft
units in R .
2) Search the homogeneous weft units in R , and
adjust displacement of overlapped warp floats using
ExclusiveOR operation. An indexed weave repeat R c
is generated, in which all weft units remain their
original sequences.
3) Using the AND operation, adjust displacement of
side-by-side warp floats in the foregoing indexed
weave repeat R c and update it.
4) Obtain the new warp position arrays P c ,  P c
n 0

n 0

1

M

of each weft unit from R c .
This algorithm can ensure all the warp floats in the
weave repeat to be in strict vertical alignment.
2.3.2. Warp segmentation algorithm. In summary,
the segmentation algorithm of warp yarns is described
as follows:
1) Accumulate the color values on each weft unit,
and get the initial warp segmentation. Create the warp

position arrays Pm 0 (n) for each weft unit in fabric
image, here m 1,  , M denotes the number of weft
unit and n 1,  , N denotes the number of pixels in
the weft direction.
2) Analyze the autocorrelation function in the weft
and warp directions to determine the weave repeat R1 .
Get the position arrays Pi 1 ( j ) for weft units in R1 ,
which is the subset of Pm 0 (n) . Here, S1 ¬ç M and
i ¬è S1 is the number of weft units in R1 , S 2 ¬ç N and
j ¬è S 2 is the number of pixels on the ith weft units in
R1 .

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV‚Äô05)
0-7695-2392-7/05 $20.00 ¬© 2005 IEEE

3) Synthesize the same-phase weft units in both
weft and warp directions in weave repeat R1 , obtain a
new position arrays Pi 2 ( j ) and update the weave
repeat R 2 .
4) Synthesize the weft units in the weave repeat
R 2 , obtain the final segmentation result Pi 3 ( j ) .
With the warp segmentation on each weft unit, we
can locate the warp interstices and compute the warp
density directly.

3. Double-layer weave identification
Identifying multi-layer weave fabric by 3-D
reconstruction has been reported recently [7]. However
it lays emphasis on reconstruction processing of textile
but not fabric weave pattern, and it needs expensive
devices and huge computational complexity. In this
paper, we aim at the sample of necktie fabric, which is
known as double-layer woven fabric, and analyze its
weave pattern from the surface images. Combining
automatically identification with easily humancomputer interaction, an integrated scheme to identify
the double-layer weft weave pattern is proposed. This
method could achieve the pattern which can be put into
production.
The double-layer weft fabric is woven using a warp
yarn and two weft yarns, where one weft yarn
composes surface layer structure and another
composes the interior layer structure. In the textile
fabric, the warp yarns usually have single color while
the weft yarns are used to express the fresh colors and
vivid patterns. According to these structural properties,
we divide the identification task into two parts: manual
partitioning and automatically single-layer weave
identifying. Firstly, we scan the obverse side and the
reverse side of textile sample and receive two surface
images. Secondly, autocorrelation analysis in the weft
and warp directions is used to determine the weave
pattern repeat in the obverse image. Each single-layer
weave region can be obtained by manual partitioning
in the weave pattern repeat. At the same time, we
designate relevant regions in the reverse image to the
obverse regions. Thus, each region has two patterns,
which are obverse region and reverse region
respectively. Identifying the double-layer weave is
then regarded as a serial of single-layer weave
identification by the forgoing algorithms. Finally, we
fill all regions with various weave patterns and obtain
the double-layer weft weave pattern of the textile
fabric.

method has been applied in the computer aided design
software of necktie fabric for the time being.

4. Experimental results
We use a scanner with 2400 dpi photo resolution to
digitize the necktie fabric sample. The identifying
system is developed using VC++6.0. We capture
images of adequate size more than one weave repeat,
to apply our automatic identification algorithm for
single-layer weave and the integrated approach for
double-layer weave.
Figure 3 shows the examples of automatic
identifying single-layer woven fabric. The sample
images appear on the top, and the recognized weave
patterns are on the bottom. As shown in Table 1, our
algorithm can correct the warp displacements
efficiently and achieve quite accurate structural
parameters. For the plain, twill, satin and their
derivation weaves, this algorithm is comparative robust.
However, it is unsatisfactory for the complicated
derivation weave, such as honey-comb weave, crepe
weave and so on. Since the honey-comb weave has
rather long warp floats that badly press each other, the
quality of segmentation is not so good. The periodicity
and regularity of the crepe weave is so complicated
that will result in the failure of correcting
displacements. Since the algorithm‚Äôs error is mainly
from the yarns segmentation, the distribution status of
yarns is a crucial factor for the precision of
identification. As shown in Figure 3i, the instable warp
floats arrangement on the reverse image result in a
higher error rate than others.

a)

b)

e)

c)

d)

f)

h)

g)

i)

Figure 3 Results of identifying single-layer
woven fabrics

Table 1 Result of weave parameter
identification
sample
image

weft
density
(1/cm)

warp
density
(1/cm)

weave
repeat

result
image

error
rate
(%)

Fig 1a
Fig 3a
Fig 3b
Fig 3c
Fig 3d

38.1
36.6
38.1
37.6
37.6

39.5
80.1
39.0
116.6
116.6

10√ó10
5√ó5
5√ó5
10√ó30
10√ó30

Fig 3e
Fig 3f
Fig 3g
Fig 3h
Fig 3i

0.0
0.0
0.0
0.0
5.0

Figure 4 shows the result of identifying doublelayer woven fabric. The surface images (obverse and
reverse) are displayed on the top. We apply the
integrated method of partitioning and identifying first,
and then obtain integral weave patterns shown as
Figure 4b. Color arrangements of weft yarns are also
illustrated on the weave pattern image. Overall, both
fabric weave pattern and color design can be analyzed
successfully using our identification system. This

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV‚Äô05)
0-7695-2392-7/05 $20.00 ¬© 2005 IEEE

a) The obverse and reverse surface images of sample

b) Weave pattern of double-layer woven fabric

Figure 4 Result of identifying double-layer
woven fabric

5. Conclusions
Based on digital image analysis we have developed
a system to identify the necktie patterns, which is
usually the double-layer weft woven fabric. Two
surface images, obverse and reverse, of necktie fabric
are captured by scanner. By manual partitioning the
images, the double-layer fabric is regarded as the
combination of several single-layer fabrics in this
paper. Our aim is to automatically identify the weave
patterns in the partitioned region. Firstly, color image
processing techniques, such as color quantization,
morphologic operation, etc, are applied to the surface
images. Then, an effective algorithm is employed to
correct the displacements of warp yarns and enhance
the precision for yarns segmentation. Experiments
show that it can identify almost all fundamental weave
and its derivation weaves ignoring the effects of nonuniform illumination and the displacements of warp
floats. Finally, an example of necktie fabric sample has
demonstrated that double-layer weft weave pattern can
be recognized successfully using the integrated method
proposed in this paper.
However, the necktie patterns are complicated and
diversified while our study is limited to a certain type
of multi-layer weave pattern. The algorithm will not
work for complex fabrics of more than double layer or
even especial single layer weaves. We are working on
a more general method for complex single-layer and
multi-layer woven fabric.

6. Acknowledgements
This research is partially co-funded by the National
Science Council (NSC, China) under the grant number
60403049, and is supported by the Excellent Young
Teacher Program of MOE in China. We would like to
thank Zhejiang Trsoft Digital Textile Technology
Company for providing materials and development
environment, especially thank Mr. Wenbo Qiu for his
helpful suggestions and comments.

7. References
[1] S.A.H. Ravandi, K. Toriumi, Y. Matsumoto, ‚ÄúFourier
Transform Analysis of Plain Weave Fabric Appearance,‚Äù
Textile Research Journal, vol.65, no.11, 1995, pp. 676-683.
[2] B. Xu, ‚ÄúIdentifying Fabric Structures with Fast Fourier
Transform Techniques,‚Äù Textile Research Journal, vol.66,
no.8, 496-506, 1996.

Proceedings of the Computer Graphics, Imaging and Vision: New Trends (CGIV‚Äô05)
0-7695-2392-7/05 $20.00 ¬© 2005 IEEE

[3] T.J. Kang, C.H. Kim, and K.W. Oh, ‚ÄúAutomatic
Recognition of Fabric Weave Pattern by Digital Image
Analysis,‚Äù Textile Research Journal, vol.69, no.2, 1999, pp.
77-83.
[4] C.C. Huang, S.C. Liu and W.H. Yu, ‚ÄúWoven Fabric
Analysis by Image Processing, Part I: Identification of
Weave Patterns,‚Äù Textile Research Journal, vol.70, no.6,
2000, pp. 481-485.
[5] B.S. Jeon, J.H. Bae, and M. Suh, ‚ÄúAutomatic Recognition
of Woven Fabric Patterns by an Artificial Neural Network,‚Äù
Textile Research Journal, vol. 73, no. 7, 2003, pp. 645-650.
[6] C.F. Kuo, C.Y. Shih, and J.Y. Lee, ‚ÄúAutomatic
Recognition of Fabric Weave Patterns by a Fuzzy C-Means
Clustering Method,‚Äù Textile Research Journal, vol. 74, no.2,
2004, pp. 107-111.
[7] T. Shinohara, J. Takayama, S. Ohyama, et al, ‚ÄúThreedimensional reconstruction of textile structure using discrete
cross sectional images to analyze fabric weave structure,‚Äù
Proceedings of International Conference on Control,
Automation and Systems, I-TP07, Oct. 2001.
[8] T. Shinohara, J. Takayama, S. Ohyama, et al, ‚ÄúAnalysis
of Textile Fabric Structure with the CT Images,‚Äù
Proceedings of SICE Annual Conference, Fukui, Aug. 2003,
pp. 234-238.
[9] R.D. Dony and S. Wesolkowski, ‚ÄúEdge Detection on
Color Images Using RGB Vector Angle,‚Äù Proceedings of the
IEEE Canadian Conference on Electrical and Computer
Engineering, Edmonton, 1999, pp. 687-692.
[10] S. Wesolkowski, M.E. Jernigan and RD Dony, ‚ÄúGlobal
Color Image Segmentation Strategies: Euclidean Distance vs.
Vector Angle,‚Äù Neural Networks for Signal Processing IX,
IEEE Press, 1999, pp. 419-428.
[11] W. Gao, J. Liu, B. Xu, et al, ‚ÄúAutomatic Identification
of Weft Arrangement Parameters in Fabric,‚Äù Cotton Textile
Technology, vol. 30, no. 1, 2002, pp.28-31 (in Chinese).
[12] W. Gao, J. Liu, B. Xu, et al, ‚ÄúAutomatic Identification
of Warp Arrangement Parameters in Fabric,‚Äù Cotton Textile
Technology, vol. 30, no. 3, 2002, pp.31-34 (in Chinese).

